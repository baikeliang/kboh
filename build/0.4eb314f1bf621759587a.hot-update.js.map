{"version":3,"sources":["webpack:///./app/server/server.js?b2ef","webpack:///./app/configure-store.js?fdb9","webpack:///./app/routes.js?edcb","webpack:///./app/toorder/main.js?e62a","webpack:///./app/server/interface/interface.js?7c07"],"names":["global","__CLIENT__","__SERVER__","console","log","rrr","resolve","reject","then","val","err","app","use","publicPath","output","stats","colors","alias","HTML","content","store","__html","getState","get","req","res","code","query","type","undefined","openid","u","append","redirect","next","memoryHistory","url","history","indexOf","params","routes","location","error","redirectLocation","renderProps","status","send","message","pathname","search","listen","configureStore","DevTools","initialState","reducer","routing","devTools","document","instrument","ToOrder","ajax","getUserInfoByOpenid","method","mode","cache","response","Error","json"],"mappings":"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","file":"0.4eb314f1bf621759587a.hot-update.js","sourcesContent":["/*eslint-disable no-console */\nimport express from 'express'\nimport serialize from 'serialize-javascript'\n\nimport webpack from 'webpack'\nimport webpackDevMiddleware from 'webpack-dev-middleware'\nimport webpackConfig from '../../webpack.client.config.js'\n\nimport React from 'react'\nimport { renderToString } from 'react-dom/server'\nimport { Provider } from 'react-redux'\nimport { createMemoryHistory, match, RouterContext } from 'react-router'\nimport { syncHistoryWithStore } from 'react-router-redux'\n\nimport { ReduxAsyncConnect, loadOnServer, reducer as reduxAsyncConnect } from 'redux-connect'\n\nimport { configureStore } from 'app/configure-store.js'\n\nimport routes from 'app/routes'\n\nimport jwt from 'jsonwebtoken'\n\n\nimport { URLSearchParams } from 'url-search-params-polyfill'\n\nimport ajax from './interface/interface.js'\n\nimport Promise from 'bluebird'\n\nglobal.__CLIENT__ = false;\nglobal.__SERVER__ = true;\n\nconsole.log('WWWWWWWWWWWWWWWWWW');\n\nvar rrr = new Promise(function(resolve, reject) {\n if (1){\n resolve('!!!!!!!!!!!!!!!!!!!!!!1');\n } else {\n reject('!!!!!!!!!!!!!!!!!!!!!!2');\n }\n});\n\nrrr.then(function(val){\n  return 3\n}, function(err){\n  return 4\n}).then(function(val){\n  console.log(val)\n}, function(err){\n   console.log(err)\n})\n\n\nconst app = express()\n\napp.use(webpackDevMiddleware(webpack(webpackConfig), {\n  publicPath: webpackConfig.output.publicPath,\n  stats: {\n    colors: true\n  },\n  resolve: {\n        alias: {\n            app: webpackConfig.resolve.alias.app\n        }\n    }\n}))\n\nconst HTML = ({ content, store }) => (\n  <html lang=\"en\">\n    <head>\n        <meta charSet=\"utf-8\"/>\n        <title>登陆</title>\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1\"/>\n        <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/Swiper/3.3.1/css/swiper.min.css\"/>\n    </head>\n    <body>\n      <div id=\"root\" dangerouslySetInnerHTML={{ __html: content }}/>\n      <div id=\"devtools\"/>\n      <script dangerouslySetInnerHTML={{ __html: `window.__initialState__=${serialize(store.getState())};` }}/>\n      <script src=\"/bundle.js\"/>\n    </body>\n  </html>\n)\n\napp.get('/wxcallback/auth',function(req,res){\n\n    var code = req.query.code\n    var type = req.query.type\n    if (code === undefined || code === null) {\n\n\n    } else {\n        /// sync get openid\n        let openid = 'asdaaaaa'\n\n        let u = new URLSearchParams();\n        u.append('openid', openid);\n        res.redirect('/usercenter/rest?'+u)\n\n    }\n\n\n});\n\napp.use(function (req, res, next) {\n  const memoryHistory = createMemoryHistory(req.url)\n  const store = configureStore(memoryHistory)\n  const history = syncHistoryWithStore(memoryHistory, store)\n\n  if(req.url.indexOf('/wxcallback')==0){\n      next();\n      return;\n  }\n  else if(req.url.indexOf('/usercenter/rest?')){\n      var openid = req.params.openid\n      console.log('openid!!!!!!!   '+openid)\n\n  }\n\n  match({ history, routes, location: req.url }, (error, redirectLocation, renderProps) => {\n    if (error) {\n      res.status(500).send(error.message)\n    } else if (redirectLocation) {\n      res.redirect(302, redirectLocation.pathname + redirectLocation.search)\n    } else if (renderProps) {\n      \n    loadOnServer({ ...renderProps, store, params:{openid}}).then(() => {\n \n      // 2. use `ReduxAsyncConnect` instead of `RoutingContext` and pass it `renderProps` \n      const content = renderToString(\n        <Provider store={store} key=\"provider\">\n          <ReduxAsyncConnect {...renderProps} />\n        </Provider>\n      )\n\n      res.send('<!doctype html>\\n' + renderToString(<HTML content={content} store={store}/>))\n    },()=>{\n      res.redirect('/login')\n    })\n    }\n  })\n})\n\napp.listen(3000, function () {\n  console.log('Server listening on http://localhost:3000, Ctrl+C to stop')\n})\n\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/server/server.js\n **/","import React from 'react'\nimport thunk from 'redux-thunk'\n\nimport { createStore, combineReducers, compose, applyMiddleware } from 'redux'\nimport { createDevTools } from 'redux-devtools'\nimport LogMonitor from 'redux-devtools-log-monitor'\nimport DockMonitor from 'redux-devtools-dock-monitor'\n\nimport { routerReducer, routerMiddleware } from 'react-router-redux'\n\nexport const DevTools = createDevTools(\n  <DockMonitor toggleVisibilityKey=\"ctrl-h\" changePositionKey=\"ctrl-q\">\n    <LogMonitor theme=\"tomorrow\" preserveScrollTop={false} />\n  </DockMonitor>\n)\n\nexport function configureStore(history, initialState) {\n  const reducer = combineReducers({\n    routing: routerReducer\n  })\n\n  let devTools = []\n  if (typeof document !== 'undefined') {\n    devTools = [ DevTools.instrument() ]\n  }\n\n  const store = createStore(\n    reducer,\n    initialState,\n    compose(\n      applyMiddleware(\n        routerMiddleware(history),thunk\n      ),\n      ...devTools\n    )\n  )\n\n  return store\n}\n\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/configure-store.js\n **/","import React from 'react';\n\n\nimport { Router, DefaultRoute, Route, NotFoundRoute, Redirect } from 'react-router';\n\nimport ToOrder from 'app/toorder/main.js'\n\n//import UserCenter from 'app/usercenter/main.js'\n/*\nimport MyOrders from 'app/usercenter/myorder/myorders.js'\nimport MyOrderInfo from 'app/usercenter/myorder/myorderinfo.js'\nimport MyCases from 'app/usercenter/mycase/mycases.js'\nimport MyCaseDesc from 'app/usercenter/mycase/mycasedesc.js'\nimport Login from 'app/usercenter/login.js'\n*/\n/*\nconst App = ({ children }) => (\n  <div>\n    {children || \"ddddd\"} \n  </div>\n)\n\nfunction requireAuth(nextState, replaceState) {\n  if (localStorage&&(!localStorage.token))\n      replaceState({ nextPathname: nextState.location.pathname }, '/login')\n  console.log(\"require.....auth\")\n  \n}\n\nconst routes = (\n      <Route path=\"/\" component={ App }>\n        <Route path=\"usercenter(/:openid)\" component={ UserCenter } onEnter={requireAuth}>\n          <Route path=\"toOrder\"   component={ ToOrder }/>\n          <Route path=\"myOrders\"  component={ MyOrders } />\n          <Route path=\"myOrderInfo\" component={ MyOrderInfo } />\n          <Route path=\"myCases\"   component={ MyCases }/>\n          <Route path=\"myCaseDesc\"    component={ MyCaseDesc }/>\n        </Route>        \n        <Route path=\"login\" component={ Login } />  \n      </Route>\n)\n\nexport default routes\n*/\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/routes.js\n **/","import React , { Component } from 'react'\n//import Projects from './projectsRender.js'\n//import ChooseForOther from './chooseForOther.js'\n//import CancelChooseForOther from './cancelChooseForOther.js'\n\nimport wxstyles from 'app/common/css/weui.min.css'\nimport styles from 'app/common/css/style.css'\n\n/*\nconst ToOrder = React.createClass({\n\n  render() {\n    return (<div>\n              <Projects projectMetas ={[{\n        id: '1',\n        servicename: \"洗牙\",\n        logo_url: ''\n      }, {\n        id: '2',\n        servicename: \"拔牙\",\n        logo_url: ''\n      }]}> </Projects>\n              </div>);\n  }\n});\n*/\n\nexport default class ToOrder extends Component {\n  componentDidMount() {\n\n  }\n\n  componentWillUnmount() {\n\n  }\n  render(){\n      return <div></div>\n  }\n\n  // methods\n}\n//module.exports = ToOrder;\n\n\n/** WEBPACK FOOTER **\n ** ./app/toorder/main.js\n **/","import fetch from 'isomorphic-fetch'\nimport { URLSearchParams } from 'url-search-params-polyfill'\nconst ajax = {\n\tgetUserInfoByOpenid:function({openid,}){\n\n\t\t\tvar u = new URLSearchParams();\n\t\t\tu.append('openid', openid);\n\n\t\t\treturn fetch('http://192.168.10.10/userinfobyopenid/rest?'+u, {\n\t\t\t        method: 'GET',\n\t\t\t        mode: 'cors',\n\t\t\t        cache: 'default'\n\t\t\t    })\n\t\t\t    .then(function(response) {\n\t\t\t        if (response.status >= 400) {\n\t\t\t            throw new Error(\"Bad response from server\");\n\t\t\t        }\n\t\t\t        return response.json();\n\t\t\t    })\n\t}\n}\n\nexport default ajax\n\n\n/** WEBPACK FOOTER **\n ** ./app/server/interface/interface.js\n **/"],"sourceRoot":""}