{"version":3,"sources":["webpack:///./app/usercenter/main.js?5daf","webpack:///./app/redux/reducers/auth.js?d351","webpack:///external \"immutable\"?1d20"],"names":["reducer","isLoaded","load","login","logout","LOAD","LOAD_SUCCESS","LOAD_FAIL","LOGIN","LOGIN_SUCCESS","LOGIN_FAIL","LOGOUT","LOGOUT_SUCCESS","LOGOUT_FAIL","initialState","Map","loaded","state","action","type","set","merge","loading","user","result","error","loggingIn","loginError","loggingOut","logoutError","globalState","auth","openid","params","__SERVER__","localStorage","jwtToken","types","promise","client","GET","name","POST","data","get"],"mappings":"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","file":"0.a908cbe95bab31b7335f.hot-update.js","sourcesContent":["import React , { Component } from 'react';\n\nimport wxstyles from 'app/common/css/weui.min.css'\nimport styles from 'app/common/css/style.css'\n\n\nimport Promise from 'bluebird'\n\nimport {asyncConnect} from 'redux-connect'\n\nimport { isLoaded as isAuthLoaded, load as loadAuth, logout } from 'app/redux/reducers/auth';\n\n/*\n\n@asyncConnect([{\n  promise: ({store: {dispatch, getState},params:{}}) => {\n    const promises = [];\n\n    if (!isAuthLoaded(getState())) {\n      promises.push(dispatch(loadAuth(params)));\n    }\n\n    return Promise.all(promises);\n  }\n}])\nexport default class UserCenter extends Component {\n    render() {\n\t\t\t\t\t\t\treturn (<div>\n\t\t\t\t\t\t\t<header className={styles.p_top + ' '+ styles.huanzhebg}>\n\t\t\t\t\t\t\t<dl>\n\t\t\t\t\t\t\t<dt id=\"userImg\"><img src={this.props.photo?this.props.photo:require('app/common/images/userPic.png')} alt=\"\" /></dt>\n\t\t\t\t\t\t\t<dd id=\"userName\">{this.props.username?this.props.username:'完善个人信息'}</dd>\n\t\t\t\t\t\t\t</dl>\n\t\t\t\t\t\t\t<a href=\"set.html\" className={styles.anniu}>\n\t\t\t\t\t\t\t<img className={styles.shezhi} src={require('app/common/images/shezhi.png')} alt=\"\" />\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</header>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<a className={styles.chuzhen} href=\"#\" id=\"IwantOrdertab\">\n\t\t\t\t\t\t\t<div className={styles.chuzhenson}>\n\t\t\t\t\t\t\t<img src={require('app/common/images/huanzhe1.png')} alt=\"\" />\n\t\t\t\t\t\t\t<div className={styles.rtop_r}>\n\t\t\t\t\t\t\t<h6 className={styles.spantitle}>我要预约</h6>\n\t\t\t\t\t\t\t<span className={styles.spancon}></span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className={styles.clear}></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<div className={styles.block}>\n\t\t\t\t\t\t\t<a href=\"myOrder.html\" className={styles.a1}>\n\t\t\t\t\t\t\t<div className={styles.blockson}>\n\t\t\t\t\t\t\t<img src={require('app/common/images/huanzhe2.png')} alt=\"\" />\n\t\t\t\t\t\t\t<span>我的预约</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t<a href=\"myCase.html\" className={styles.a2}>\n\t\t\t\t\t\t\t<div className={styles.blockson}>\n\t\t\t\t\t\t\t<img src={require('app/common/images/huanzhe3.png')} alt=\"\" />\n\t\t\t\t\t\t\t<span>我的病历</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t<a href=\"myBillList.html\" className={styles.a1}>\n\t\t\t\t\t\t\t<div className={styles.blockson}>\n\t\t\t\t\t\t\t<img src={require('app/common/images/huanzhe4.png')} alt=\"\" />\n\t\t\t\t\t\t\t<span>我的账单</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t<a href=\"personmsg.html\" className={styles.a2}>\n\t\t\t\t\t\t\t<div className={styles.blockson}>\n\t\t\t\t\t\t\t<img src={require('app/common/images/huanzhe5.png')} alt=\"\" />\n\t\t\t\t\t\t\t<span>个人信息</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<div className={styles.fotIcon}>\n\t\t\t\t\t\t\t<img src={require('app/common/images/logo2.png')} alt=\"\"/>\n\t\t\t\t\t\t\t<p>轻快预约&nbsp;&nbsp;&nbsp;从“齿”简单</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>)\t\n    }\n\t// methods\n}*/\n\n\n/** WEBPACK FOOTER **\n ** ./app/usercenter/main.js\n **/","import Immutable from 'immutable'\n\nconst LOAD = 'bohe/auth/LOAD';\nconst LOAD_SUCCESS = 'bohe/auth/LOAD_SUCCESS';\nconst LOAD_FAIL = 'bohe/auth/LOAD_FAIL';\nconst LOGIN = 'bohe/auth/LOGIN';\nconst LOGIN_SUCCESS = 'bohe/auth/LOGIN_SUCCESS';\nconst LOGIN_FAIL = 'bohe/auth/LOGIN_FAIL';\nconst LOGOUT = 'bohe/auth/LOGOUT';\nconst LOGOUT_SUCCESS = 'bohe/auth/LOGOUT_SUCCESS';\nconst LOGOUT_FAIL = 'bohe/auth/LOGOUT_FAIL';\n\nconst initialState =Immutable.Map({\n  loaded: false\n});\n\nexport default function reducer(state = initialState, action = {}) {\n    switch (action.type) {\n        case LOAD:\n            return state.set('loaded', true)\n        case LOAD_SUCCESS:\n            return state.merge({ loading: false, loaded: true, user: action.result })\n        case LOAD_FAIL:\n            return state.merge({ loading: false, loaded: false, user: action.error })\n        case LOGIN:\n            return state.merge({ loggingIn: true })\n        case LOGIN_SUCCESS:\n            return state.merge({ loggingIn: false, user: action.result })\n        case LOGIN_FAIL:\n            return state.merge({ loggingIn: false, user: null, loginError: action.error })\n\n        case LOGOUT:\n            return state.merge({ loggingOut: true })\n        case LOGOUT_SUCCESS:\n            return state.merge({\n                loggingOut: false,\n                user: null\n            })\n        case LOGOUT_FAIL:\n            return state.merge({\n                loggingOut: false,\n                logoutError: action.error\n            })\n        default:\n            return state\n    }\n}\n\n\nexport function isLoaded(globalState) {\n  return globalState.auth && globalState.auth.loaded;\n}\n\nexport function load({ openid }) {\n    var params = {}\n    if (__SERVER__ && openid) {\n\n        params.openid = openid\n\n    } else if (localStorage && localStorage.jwtToken) {\n\n        params.jwtToken = localStorage.jwtToken\n    }\n    return {\n        types: [LOAD, LOAD_SUCCESS, LOAD_FAIL],\n        promise: (client) => client.GET('http://192.168.10.10/userinfo/rest', { params })\n    };\n}\n\n\n\nexport function login(name) {\n  return {\n    types: [LOGIN, LOGIN_SUCCESS, LOGIN_FAIL],\n    promise: (client) => client.POST('/login', {\n      data: {\n        name: name\n      }\n    })\n  };\n}\n\nexport function logout() {\n  return {\n    types: [LOGOUT, LOGOUT_SUCCESS, LOGOUT_FAIL],\n    promise: (client) => client.get('/logout')\n  };\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/redux/reducers/auth.js\n **/","module.exports = require(\"immutable\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"immutable\"\n ** module id = 377\n ** module chunks = 0\n **/"],"sourceRoot":""}